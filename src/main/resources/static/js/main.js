(()=>{"use strict";const e=document.querySelector(".header"),t=document.querySelector(".logo"),n=document.querySelector(".siteExpl"),r=document.querySelector(".insectFilterBtn"),o=document.querySelector(".navBtns"),s=document.querySelectorAll(".navBtns__btn"),i=document.querySelectorAll(".navBtns__btn__text"),a=()=>{r.remove(),o.remove()},l=[e,t,n,r,o,...s,...i],c=()=>{const e=document.querySelector(".main");if(10>document.documentElement.scrollTop)for(let t of Object.values(l))t.classList.remove("js-headerScrollOn"),e.classList.remove("js-headerScrollOn");else if(!l[0].classList.contains("js-headerScrollOn"))for(let t of Object.values(l))t.classList.add("js-headerScrollOn"),e.classList.add("js-headerScrollOn")},d=/^[a-zA-Z0-9_+-]+(.[a-zA-Z0-9_+-]+)*@([a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9]*\.)+[a-zA-Z]{2,}$/,m=/(.*[a-zA-Z])(?=.*[0-9])[a-zA-z0-9]{6,}/,u=(e,t)=>{const n=document.querySelector(".validation__blank");let r=!1;for(let e of t)""===e.value.trim()?(e.classList.add("validationError"),r=!0):e.classList.remove("validationError"),e.addEventListener("input",(()=>{if(""!==e.value.trim()){e.classList.remove("validationError");let r=!0;for(let e of t)""===e.value.trim()&&(r=!1);r&&n.classList.add("hidden")}else e.classList.add("validationError"),n.classList.remove("hidden")}));return r?(n.classList.remove("hidden"),e.preventDefault(),e.stopImmediatePropagation(),!1):(n.classList.add("hidden"),!0)},v=(e,t)=>{const n=document.querySelector(".validation__email");let r=!1;return d.test(t.value.trim())||(r=!0),t.addEventListener("input",(()=>{d.test(t.value.trim())?(t.classList.remove("validationError"),n.classList.add("hidden")):(t.classList.add("validationError"),n.classList.remove("hidden"))})),r?(n.classList.remove("hidden"),t.classList.add("validationError"),t.value="",e.preventDefault(),e.stopImmediatePropagation(),!1):(n.classList.add("hidden"),!0)},_=e=>{e.classList.add("hidden")},f=e=>{e.classList.remove("hidden")},L=document.querySelector(".search__form__cover"),h=document.querySelector(".search__form__close"),p=document.querySelector(".search__form"),S=document.querySelector(".navBtns__btn--searchRecipe"),E=(e,t)=>{document.querySelector("header").insertAdjacentHTML("afterend",'\n    <div class="confirmDialog__cover"></div>\n  '),document.querySelector(e).insertAdjacentHTML("afterend",(e=>`\n    <div class="confirm">\n      <span class="confirm__message">${e}</span>\n      <div class="confirm__btns">\n        <button class="confirm__btns__btn confirm__btns__btn--yes" type="submit">はい</button>\n        <button class="confirm__btns__btn confirm__btns__btn--cancel" type="button">キャンセル</button>\n      </div>\n    </div>\n  `)(t));const n=document.querySelector(".confirm__btns__btn--cancel"),r=document.querySelector(".confirmDialog__cover");n.addEventListener("click",(()=>{document.querySelector(e).nextElementSibling.remove(),r.remove()})),r.addEventListener("click",(()=>{document.querySelector(e).nextElementSibling.remove(),r.remove()}))};S.addEventListener("click",(()=>{f(L),f(p)})),L.addEventListener("click",(()=>{_(L),_(p)})),h.addEventListener("click",(()=>{_(L),_(p)})),["","/","/index","/index.html"].includes(location.pathname)&&((()=>{for(let e of Object.values(l))e.classList.remove("js-headerScrollOn");window.addEventListener("scroll",c)})(),(()=>{const e=document.querySelectorAll(".recipeSection");for(let t of e)t.children[0].addEventListener("click",(()=>{location.href=t.dataset.recipeHref})),t.children[1].addEventListener("click",(()=>{location.href=t.dataset.recipeHref})),t.children[2].addEventListener("click",(()=>{location.href=t.dataset.recipeHref}))})(),(()=>{const e=document.querySelectorAll(".heartBtn");for(let t of e)t.addEventListener("click",(()=>{const e=t.firstElementChild,n=t.lastElementChild;"heart-outline"==e.name?(e.name="heart",n.textContent=+n.textContent+1):(e.name="heart-outline",n.textContent=+n.textContent-1)}))})(),(()=>{const e=document.querySelector(".insectFilterBtn__label"),t=document.querySelectorAll(".recipeImage");e.addEventListener("click",(()=>{for(let e of t)e.classList.toggle("filter")}))})()),["/login/form","/login"].includes(location.pathname)&&(a(),(()=>{const e=document.querySelector(".login__form"),t=document.querySelectorAll(".form__input");e.addEventListener("submit",(n=>{u(n,t),v(n,e.mail)}))})()),["/signup/form","/signup"].includes(location.pathname)&&(a(),(()=>{const e=document.querySelector(".signup__form"),t=document.querySelectorAll(".form__input");document.querySelector(".signup__form__btn").addEventListener("click",(n=>{u(n,t),((e,t)=>{const n=document.querySelector(".validation__password");let r=!1;m.test(t.value.trim())||(r=!0),t.addEventListener("input",(()=>{m.test(t.value.trim())?(t.classList.remove("validationError"),n.classList.add("hidden")):(t.classList.add("validationError"),n.classList.remove("hidden"))})),r?(n.classList.remove("hidden"),t.classList.add("validationError"),t.value="",e.preventDefault(),e.stopImmediatePropagation()):n.classList.add("hidden")})(n,e.password),((e,t,n)=>{const r=document.querySelector(".validation__confirm");let o=!1;t.value.trim()!==n.value.trim()&&(o=!0),t.addEventListener("input",(()=>{r.classList.add("hidden")})),n.addEventListener("input",(()=>{r.classList.add("hidden")})),o?(r.classList.remove("hidden"),n.classList.add("validationError"),n.value="",e.preventDefault(),e.stopImmediatePropagation()):r.classList.add("hidden")})(n,e.password,e.confirmPassword),v(n,e.mail)}))})(),((e,t)=>{const n=document.querySelectorAll(e);for(let t of n)t.addEventListener("click",(()=>{E(e,"この内容で登録しますか")})),t.addEventListener("submit",(()=>!1))})(".signup__form__btn"))})();